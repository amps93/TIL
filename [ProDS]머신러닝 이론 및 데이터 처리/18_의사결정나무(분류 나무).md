# 의사결정나무 : 분류 나무

## 의사 결정 나무 모형

* 의사결정 규칙을 나무 구조로 도표화하여 관심대상이 되는 집단을 몇개의 소집단으로 분할하는 방식으로 분류 및 예측하는 분석 방법
  * 목표변수가 범주형인 경우 : 분류나무
  * 목표변수가 연속형인 경우 : 회귀나무

![18-1](18_의사결정나무(분류 나무).assets/18-1.png)

![18-2](18_의사결정나무(분류 나무).assets/18-2.png)

![18-3](18_의사결정나무(분류 나무).assets/18-3.png)

## 의사결정나무 분석절차

* 나무의 성장 : 각 마디에서 적절한 최적의 분리규칙을 찾아 나무를 성장시킴. 정지규칙을 만족하는 경우는 성장을 중단
* 가지치기 : 오류율을 크게 할 위험이 높거나 부적절한 추론 규칙을 가지고 있는 가지를 제거
* 타당성 평가 : 평가자료를 이용하여 의사결정나무를 평가
* 해석 및 예측 : 구축된 나무 모형을 해석하고 분류 및 예측 모형을 설정

## 나무의 성장

* 상위노드로부터 하위노드로 나무 구조를 형성하는 매 단계마다 분리규칙(어느 특성변수로 어떻게 분할할 것인가)을 선택함
* 분리규칙의 형태(이진분할의 경우)
  * 연속형 특성변수 : 분리에 사용될 특성변수 X와 분리점 c를 이용하여 X<c면 왼쪽 자식마디, 그렇지 않으면 오른쪽 자식마디로 자료를 분리
  * 범주형 특성변수 : 분리에 사용될 특성변수가 X가 가지는 전체범주 중 부분집합인 A를 이용하여 X∈A면 왼쪽 자식마디, 그렇지 않으면 오른쪽 자식마디로 자료를 분리
* 분류기준은 해당 노드에서 그 기준으로 하위노드를 분기하였을 때, 하위 노드 내에서는 동질성이, 하위 노드 간에는 이질성이 가장 커지도록 선택됨

## 분류나무의 분리규칙 탐색

![18-4](18_의사결정나무(분류 나무).assets/18-4.png)

![18-5](18_의사결정나무(분류 나무).assets/18-5.png)

![18-6](18_의사결정나무(분류 나무).assets/18-6.png)

모든 특성변수와 그 특성변수의 모든 가능한 분리점에 대하여 G(s,t)를 구한 뒤 G(s,t)가 가장 큰 특성변수 및 분리점을 해당 마디에서의 분리기준으로 정함

## 불순도 감소량을 이용한 분리기준 예시

![18-7](18_의사결정나무(분류 나무).assets/18-7.png)

![18-8](18_의사결정나무(분류 나무).assets/18-8.png)

## 분류나무 적합 결과

![18-9](18_의사결정나무(분류 나무).assets/18-9.png)
